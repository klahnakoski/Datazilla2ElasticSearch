{
	"settings":{
		"index.number_of_shards":1,
		"index.number_of_replicas":0,
		"index.store.throttle.type":"merge",
		"index.store.throttle.max_bytes_per_sec":"2mb"
	},
	"mappings":{
		{{type}}:{
			"dynamic_templates":[
				{"default_moment":{
					"mapping":{"index":"no", "type":"double"},
					"match":"*.moments.s*"
				}},
                {"xperf":{
                    "mapping":{"index":"not_analyzed", "type":"string"},
                    "match":"results_xperf.*"
                }},
                {"results":{
                    "mapping":{
                        "type":"object",
                        "dynamic":true,
                        "properties":{
                            "index":{"type":"long"},
                            "series":{"store":"yes", "type":"long"},
                            "last_20":{"term_vector":"yes", "type":"long"},
                            "moments":{
                                "dynamic":true,
                                "properties":{
                                    "s0":{"type":"long"},
                                    "s1":{"type":"long"},
                                    "s2":{"type":"long"},
                                    "s3":{"type":"long"},
                                    "s4":{"type":"long"}
                                }
                            }
                        }
                    },
                    "match":"results.*"
                }},
				{"default_strings":{
					"mapping":{"index":"not_analyzed", "type":"string"},
					"match":"*",
					"match_mapping_type" : "string"
				}}
			],
            "_all":{
                "enabled":false
            },
            "_source":{
                "compress":true
            },
			"properties":{
				"datazilla":{
					"properties":{
						"id":{"type":"long"},
						"date_loaded":{"type":"long"},
						"error_flag":{"index":"not_analyzed", "type":"string"},
						"test_run_id":{"type":"long"},
						"processed_flag":{"index":"not_analyzed", "type":"string"},
						"error_msg":{"index":"not_analyzed", "type":"string"}
					}
				},
				"results":{
                    "type":"object",
                    "dynamic":true
				},
				"test_build":{
					"type":"object",
					"properties":{
                        "id":{"index":"not_analyzed", "type":"long"},
						"push_date":{"type":"long"},
						"branch":{"index":"not_analyzed", "type":"string"},
						"revision":{"index":"not_analyzed", "type":"string"},
						"name":{"index":"not_analyzed", "type":"string"},
						"version":{"index":"not_analyzed", "type":"string"}
					}
				},
                "results_aux": {
                    "type":"object",
                    "dynamic":true
                },
                "testrun":{
                    "type":"object",
                    "properties": {
                        "suite": {"index": "not_analyzed", "type":"string"},
                        "date": {"type":"long"},
                        "options":{
                            "dynamic": true,
                            "type":"object"
                        }
                    }
                }
            }
		}
	}
}
